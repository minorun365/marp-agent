# パワポ作るマン（marp-agent）実装計画

> **注意**: 基本的な実装計画は **mainブランチ** の `docs/PLAN.md` を参照してください。このファイルにはkagブランチ固有の差分のみ記載します。

## kagブランチ固有の差分

### アーキテクチャ図

```
┌─────────────────────────────────────────────────────────────────┐
│                        AWS Cloud                                 │
│  ┌─────────────────┐    ┌─────────────────────────────────────┐ │
│  │    Amplify      │    │         AgentCore Runtime           │ │
│  │  ┌───────────┐  │    │  ┌─────────────────────────────────┐│ │
│  │  │   React   │  │───▶│  │      Strands Agent             ││ │
│  │  │ Frontend  │  │SSE │  │  ┌─────────┐  ┌─────────────┐  ││ │
│  │  └───────────┘  │    │  │  │ Claude  │  │ Marp Tools  │  ││ │
│  │  ┌───────────┐  │    │  │  │ Sonnet  │  │ ・generate  │  ││ │
│  │  │  Cognito  │  │    │  │  └─────────┘  │ ・edit      │  ││ │
│  │  │   認証    │  │    │  │              │ ・export    │  ││ │
│  │  └───────────┘  │    │  └─────────────────────────────────┘│ │
│  └─────────────────┘    └─────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

（mainはGitHub上の画像リンクを使用）

### テーマ

| ブランチ | テーマ名 | 備考 |
|---------|---------|------|
| main | border | コミュニティテーマ |
| **kag** | **kag** | KAG専用カスタムテーマ |

### 認証

| ブランチ | スコープ |
|---------|---------|
| main | 誰でもサインアップ可能 |
| **kag** | **KAGドメイン限定**（`kddi-agdc.com`） |

### 追加ファイル（kag固有）

| ファイル | 説明 |
|---------|------|
| `amplify/agent/runtime/kag.css` | KAGテーマ（PDF用） |
| `src/themes/kag.css` | KAGテーマ（プレビュー用） |

### 機能差分

mainにある以下の機能はkagでは省略または変更：

| 項目 | main | kag |
|------|------|-----|
| スライド修正（チャットで編集指示） | ✅ | ✅（同一） |
| 会話履歴保持（セッションID管理） | ✅ | ✅（同一） |
| 修正リクエスト（プレビュー→チャット） | ✅ | ✅（同一） |
| レスポンシブ（タイトルバナー文字サイズ調整） | ✅ | 未対応 |
