# ãƒ‘ãƒ¯ãƒä½œã‚‹ãƒãƒ³ TODO

> **æ³¨æ„**: TODOç®¡ç†ã¯ **mainãƒ–ãƒ©ãƒ³ãƒã®ã¿** ã§è¡Œã„ã¾ã™ã€‚kagãƒ–ãƒ©ãƒ³ãƒã®TODOãƒ•ã‚¡ã‚¤ãƒ«ã¯å‚ç…§ç”¨ã®ãƒªãƒ³ã‚¯ã®ã¿ã§ã™ã€‚

## ã‚¿ã‚¹ã‚¯ç®¡ç†

åæ˜ å…ˆã®å‡¡ä¾‹: âœ… å®Œäº† / ğŸ”§ ä½œæ¥­ä¸­ / â¬œ æœªç€æ‰‹ / â– å¯¾è±¡å¤–
ãƒ©ãƒ™ãƒ«: ğŸ”´ é‡è¦
ä¸¦ã³é †: â‘ é‡è¦åº¦ãŒé«˜ã„é † â†’ â‘¡å®Ÿè£…ãŒç°¡å˜ãªé †ï¼ˆå·¥æ•°ãŒå°ã•ã„é †ï¼‰

| # | ã‚¿ã‚¹ã‚¯ | å·¥æ•° | çŠ¶æ…‹ | ãƒ©ãƒ™ãƒ« | main å®Ÿè£… | main docs | kag å®Ÿè£… | kag docs |
|---|--------|------|------|--------|-----------|-----------|----------|----------|
| #46 | Haikuãƒ¢ãƒ¼ãƒ‰ã‚‚è¶³ã—ãŸã„ | 20åˆ† | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â– | â– |
| #41 | ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³é¸æŠUIã®ãƒ‡ã‚¶ã‚¤ãƒ³æ”¹å–„ | 30åˆ† | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #53 | ãƒ¢ãƒ‡ãƒ«é¸æŠãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã®æ–‡å­—ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°æ”¹å–„ | 30åˆ† | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #30 | ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¿ã‚¤ãƒˆãƒ«ã‚’AIãŒå†è¨­å®šã™ã‚‹ã‚ˆã†æ”¹å–„ | 30åˆ† | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #28 | è¡¨ã®ã‚»ãƒ«å†…ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°èª¿æ•´ | 30åˆ† | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #19 | ãƒ„ã‚¤ãƒ¼ãƒˆãŠã™ã™ã‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¯¾å¿œ | 30åˆ† | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #14 | ç’°å¢ƒè­˜åˆ¥å­ãƒªãƒãƒ¼ãƒ ï¼ˆdevâ†’sandboxï¼‰ | 30åˆ† | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #32 | deploy-time-build: Repositoryã‚’è‡ªå‰ã§æ¸¡ã™æ–¹å¼ã«ä¿®æ­£ | 1.5h | â¬œ æœªç€æ‰‹ | | â¬œ | â– | â– | â– |
| #37 | Sandboxã®hotswapå•é¡Œã‚’ã¾ã¨ã‚ã‚‹ | 1-2h | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â– | â– |
| #44 | output_slideãƒ„ãƒ¼ãƒ«æœªä½¿ç”¨æ™‚ã®UIå¯¾å¿œ | 1-2h | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #49 | KimiãŒWebæ¤œç´¢çµæœã‚’ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§è¿”ã•ãªã„ã‚ˆã†ã«ã—ãŸã„ | 2h | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #33 | Tavilyã®Extractã«å¯¾å¿œ | 2h | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #45 | Langfuseã§ãƒˆãƒ¬ãƒ¼ã‚¹ã—ãŸã„ | 2.5h | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â– | â– |
| #39 | ç”»é¢ã®ã©ã“ã‹ã«æœ€å¾Œã®ãƒªãƒªãƒ¼ã‚¹ã®æƒ…å ±ã‚’è¡¨ç¤ºã—ãŸã„ | 3h | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â– | â– |
| #6 | Tavilyãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆæ¯æ¸‡é€šçŸ¥ | 3-4h | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #7 | ã‚¨ãƒ©ãƒ¼ç›£è¦–ãƒ»é€šçŸ¥ | 3-4h | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #27 | æ—¢å­˜ãƒ†ãƒ¼ãƒã«ãƒ‡ã‚¶ã‚¤ãƒ³ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ãƒ»ä»•åˆ‡ã‚Šãªã©ï¼‰ | 1-2æ—¥ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #48 | GPTã‚’å®Ÿè£…ã—ã¦ã¿ã‚‹ | 2æ—¥ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â– | â– |
| #52 | Nova Premierã¨Web Groundingã‚’å®Ÿè£…ã™ã‚‹ | 2-3æ—¥ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â– | â– |
| #16 | ã‚¹ãƒ©ã‚¤ãƒ‰ç·¨é›†ï¼ˆãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿ï¼‰ | 3-5æ—¥ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #51 | ç·¨é›†å¯èƒ½PPTXã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã›ãŸã„ | 3-4æ—¥ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â– | â– |
| #21 | ä¼æ¥­ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã„ | 5-7æ—¥ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â– | â– |
| #22 | å‚è€ƒè³‡æ–™ãªã©ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã„ | 5-7æ—¥ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â– | â– |
| #23 | ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ãƒªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ | 1-2é€±é–“ | âœ… å®Œäº† | | âœ… | âœ… | â– | â– |

---

## ã‚¿ã‚¹ã‚¯è©³ç´°

> **ä¸¦ã³é †**: ä¸Šè¨˜ã‚¿ã‚¹ã‚¯ç®¡ç†è¡¨ã¨åŒã˜é †ç•ªï¼ˆâ‘ é‡è¦åº¦ãŒé«˜ã„é † â†’ â‘¡å®Ÿè£…ãŒç°¡å˜ãªé †ï¼‰ã§è¨˜è¼‰ã—ã¦ã„ã¾ã™ã€‚

### #46 Haikuãƒ¢ãƒ¼ãƒ‰ã‚‚è¶³ã—ãŸã„

**æ¦‚è¦**: Claude Haikuï¼ˆè»½é‡ãƒ»é«˜é€Ÿãƒ¢ãƒ‡ãƒ«ï¼‰ã‚’é¸æŠã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚

**ä¿®æ­£ç®‡æ‰€**:

1. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆChat.tsxï¼‰**:
   - Line 5: `type ModelType = 'claude' | 'kimi' | 'claude5' | 'haiku';`
   - Line 636: è¡¨ç¤ºåã«`'haiku' ? 'Haiku'`ã‚’è¿½åŠ 
   - Line 640-650: `<option value="haiku">é«˜é€Ÿè»½é‡ï¼ˆClaude Haikuï¼‰</option>`ã‚’è¿½åŠ 

2. **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆagent.pyï¼‰**:
   - Line 29-36ã®å¾Œã«è¿½åŠ :
   ```python
   elif model_type == "haiku":
       return {
           "model_id": "us.anthropic.claude-haiku-4-5-20251001-v1:0",
           "cache_prompt": "default",
           "cache_tools": "default",
       }
   ```

**å·¥æ•°**: 20åˆ†ï¼ˆå®Ÿè£…8åˆ† + ãƒ†ã‚¹ãƒˆ12åˆ†ï¼‰

---

### #41 ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³é¸æŠUIã®ãƒ‡ã‚¶ã‚¤ãƒ³æ”¹å–„

**æ¦‚è¦**: ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³ã®é¸æŠUIã‚’ã€æ ã‚’å¤–ã—ã¦ã‚‚ã†å°‘ã—è–„ã„ã‚°ãƒ¬ãƒ¼ã§ç›®ç«‹ãŸãªã„ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã—ãŸã„ã€‚

**ç¾çŠ¶**: ãƒ†ãƒ¼ãƒé¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã«æ ç·šãŒã‚ã‚Šã€ç›®ç«‹ã¡ã™ãã¦ã„ã‚‹ã€‚

**ä¿®æ­£æ–¹æ³•**: `SlidePreview.tsx` ã®140è¡Œç›®ã‚’ä»¥ä¸‹ã«å¤‰æ›´

```tsx
// å¤‰æ›´å‰
className="text-sm border rounded px-2 py-1"

// å¤‰æ›´å¾Œ
className="text-sm bg-white border border-gray-200 rounded-md px-3 py-2 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#5ba4d9] transition-colors cursor-pointer"
```

**æ”¹å–„ãƒã‚¤ãƒ³ãƒˆ**:
| é …ç›® | ç¾åœ¨ | æ”¹å–„å¾Œ |
|------|------|--------|
| æ ç·š | é»’ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ | `border-gray-200`ï¼ˆè–„ã„ã‚°ãƒ¬ãƒ¼ï¼‰ |
| ãƒ›ãƒãƒ¼ | ãªã— | èƒŒæ™¯è‰²ã¨ãƒœãƒ¼ãƒ€ãƒ¼å¤‰åŒ– |
| ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ | ãªã— | ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ã®ãƒªãƒ³ã‚° |

**å·¥æ•°**: 30åˆ†ï¼ˆå®Ÿè£…5åˆ† + ãƒ†ã‚¹ãƒˆ25åˆ†ï¼‰

---

### #53 ãƒ¢ãƒ‡ãƒ«é¸æŠãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã®æ–‡å­—ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°æ”¹å–„

**æ¦‚è¦**: ãƒ¢ãƒ‡ãƒ«é¸æŠã®ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³å†…ã®é¸æŠè‚¢ã®æ–‡å­—ã®ä¸¡ç«¯ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãŒå°‘ãªãã¦è¦‹ãŸç›®ãŒã—ã‚‡ã¼ã„å•é¡Œã‚’æ”¹å–„ã€‚

**ä¿®æ­£ç®‡æ‰€**: `src/components/Chat.tsx` 632-651è¡Œç›®

**å¤‰æ›´å†…å®¹**:
| Tailwindã‚¯ãƒ©ã‚¹ | å¤‰æ›´å‰ | å¤‰æ›´å¾Œ | åŠ¹æœ |
|---|---|---|---|
| å·¦å³ãƒ‘ãƒ‡ã‚£ãƒ³ã‚° | `pl-3 sm:pl-4` | `px-3 sm:px-4` | å³ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¿½åŠ  |
| ä¸Šä¸‹ãƒ‘ãƒ‡ã‚£ãƒ³ã‚° | ãªã— | `py-2` | å‚ç›´æ–¹å‘ã®ä½™ç™½ã‚’ç¢ºä¿ |
| ãƒ†ã‚­ã‚¹ãƒˆâ†’çŸ¢å°ã®å·¦ãƒãƒ¼ã‚¸ãƒ³ | `sm:ml-1` | `sm:ml-2` | é–“éš”ã‚’åºƒã’ã¦å¯èª­æ€§å‘ä¸Š |
| çŸ¢å°â†’æ¬¡è¦ç´ ã®å³ãƒãƒ¼ã‚¸ãƒ³ | `mr-2` | `mr-3` | åŒºåˆ‡ã‚Šç·šã¨ã®é–“éš”ã‚’åºƒã’ã‚‹ |

**å·¥æ•°**: 30åˆ†ï¼ˆå®Ÿè£…5åˆ† + ãƒ†ã‚¹ãƒˆ25åˆ†ï¼‰

---

### #30 ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¿ã‚¤ãƒˆãƒ«ã‚’AIãŒå†è¨­å®šã™ã‚‹ã‚ˆã†æ”¹å–„

**æ¦‚è¦**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•ãŒãã®ã¾ã¾ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¿ã‚¤ãƒˆãƒ«ã«ãªã£ã¦ã—ã¾ã†å•é¡Œã€‚

**ä¿®æ­£æ–¹æ³•**: agent.py ã® SYSTEM_PROMPT ã«è¿½åŠ 

```markdown
## ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¿ã‚¤ãƒˆãƒ«ã®è¨­å®šãƒ«ãƒ¼ãƒ«
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•æ–‡ã‚’ãã®ã¾ã¾ã‚¿ã‚¤ãƒˆãƒ«ã«ã—ãªã„ã“ã¨
- Webæ¤œç´¢çµæœã‚’è¸ã¾ãˆã¦ã€å†…å®¹ã‚’ç«¯çš„ã«è¡¨ã™**åè©å¥**ã§ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¨­å®š
- ä¾‹:
  - âŒã€ŒAWSã«ã¤ã„ã¦æ•™ãˆã¦ã€â†’ âœ…ã€ŒAWSå…¥é–€ã‚¬ã‚¤ãƒ‰ã€
  - âŒã€Œç”ŸæˆAIã®æœ€æ–°å‹•å‘ã‚’èª¿ã¹ã¦ã€â†’ âœ…ã€Œç”ŸæˆAIæœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ 2025ã€
```

**å·¥æ•°**: 30åˆ†

---

### #28 è¡¨ã®ã‚»ãƒ«å†…ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°èª¿æ•´

**æ¦‚è¦**: è¡¨ã®ä¸­ã®æ–‡å­—ã¨è¡¨ã®æ ã®é–“ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãŒå°‘ãªã„ãŸã‚ã€è¦‹ãŸç›®ã®ãƒãƒ©ãƒ³ã‚¹ãŒæ‚ªã„ã€‚

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**: `src/themes/*.css` + `amplify/agent/runtime/*.css`

**å®Ÿè£…ã‚³ãƒ¼ãƒ‰ï¼ˆå„ãƒ†ãƒ¼ãƒCSSã®æœ«å°¾ã«è¿½åŠ ï¼‰**:
```css
/* || TABLE: ã‚»ãƒ«å†…ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°èª¿æ•´ */
section table th,
section table td {
  padding: 0.6em 1.2em;
}

section table th {
  background-color: var(--bg-color-alt);
  font-weight: 700;
}

section table tr:nth-child(even) td {
  background-color: rgba(0, 0, 0, 0.03);
}
```

**å·¥æ•°**: 30åˆ†

---

### #19 ãƒ„ã‚¤ãƒ¼ãƒˆãŠã™ã™ã‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¯¾å¿œ

**ç¾çŠ¶**: ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚ã€ã€Œç„¡è¨€ã§ãƒ„ãƒ¼ãƒ«ä½¿ç”¨é–‹å§‹ã™ã‚‹ã“ã¨ã€ã¨ã„ã†æŒ‡ç¤ºã®ãŸã‚ã€ãƒ„ã‚¤ãƒ¼ãƒˆæ¨å¥¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°è¡¨ç¤ºã•ã‚Œãªã„ã€‚

**ä¿®æ­£ï¼ˆ2ç®‡æ‰€ï¼‰**:

1. **Chat.tsxã®ã€Œç„¡è¨€ã€æŒ‡ç¤ºã‚’å‰Šé™¤**
   ```typescript
   // å¤‰æ›´å‰
   await invoke('ä»Šå›ã®ä½“é¨“ã‚’Xã§ã‚·ã‚§ã‚¢ã™ã‚‹URLã‚’ææ¡ˆã—ã¦ãã ã•ã„ï¼ˆç„¡è¨€ã§ãƒ„ãƒ¼ãƒ«ä½¿ç”¨é–‹å§‹ã™ã‚‹ã“ã¨ï¼‰', ...)
   // å¤‰æ›´å¾Œ
   await invoke('ä»Šå›ã®ä½“é¨“ã‚’Xã§ã‚·ã‚§ã‚¢ã™ã‚‹URLã‚’ææ¡ˆã—ã¦ãã ã•ã„', ...)
   ```

2. **ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã‚·ã‚§ã‚¢æ™‚ã®æŒ¯ã‚‹èˆã„ã‚’æ˜è¨˜**
   ```markdown
   ## Xã§ã‚·ã‚§ã‚¢æ©Ÿèƒ½
   ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã‚·ã‚§ã‚¢ã—ãŸã„ã€ãªã©ã¨è¨€ã£ãŸå ´åˆï¼š
   1. ã¾ãšä½“é¨“ã‚’ã‚·ã‚§ã‚¢ã™ã‚‹ã“ã¨ã‚’å‹§ã‚ã‚‹çŸ­ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›
   2. ãã®å¾Œ generate_tweet_url ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦URLã‚’ç”Ÿæˆ
   ```

**å·¥æ•°**: 30åˆ†

---

### #14 ç’°å¢ƒè­˜åˆ¥å­ãƒªãƒãƒ¼ãƒ 

**å¤‰æ›´å†…å®¹**: devâ†’sandbox

**å¤‰æ›´ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«**:

| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ |
|---------|---------|
| `amplify/backend.ts:10` | `'dev'` â†’ `'sandbox'` |
| `amplify/agent/resource.ts:58` | ã‚³ãƒ¡ãƒ³ãƒˆæ›´æ–° |
| `docs/KNOWLEDGE.md` | ãƒ©ãƒ³ã‚¿ã‚¤ãƒ åã®ä¾‹ã‚’æ›´æ–° |

**æ³¨æ„**: AgentCore Runtimeã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ åãŒå¤‰ã‚ã‚‹ãŸã‚å†ä½œæˆãŒå¿…è¦

**å·¥æ•°**: 30åˆ†

---

### #32 deploy-time-build: Repositoryã‚’è‡ªå‰ã§æ¸¡ã™æ–¹å¼ã«ä¿®æ­£

**æ¦‚è¦**: ç¾åœ¨ã®å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ `(containerImageBuild.repository as ecr.Repository)` ã‚’æ’é™¤ã—ã€å‹å®‰å…¨ã«ã™ã‚‹ã€‚

**ç¾çŠ¶ã®å•é¡Œ**:
```typescript
// å‹å®‰å…¨æ€§ãŒä½ã„
(containerImageBuild.repository as ecr.Repository).addLifecycleRule(...)
```

#### å®Ÿç¾æ¡ˆã®æ¯”è¼ƒ

| æ¡ˆ | å·¥æ•° | åŠ¹æœ | æ¨å¥¨åº¦ |
|----|------|------|--------|
| **æ¡ˆA: ã‚·ãƒ³ãƒ—ãƒ«ç‰ˆ** | 30åˆ† | å‹å®‰å…¨åŒ– | â­æ¨å¥¨ |
| æ¡ˆB: åˆ†å‰²ç‰ˆï¼ˆrepository.tsæ–°è¦ä½œæˆï¼‰ | 1h | å°†æ¥æ‹¡å¼µæ€§ | å¾Œã§ |

#### æ¨å¥¨: æ¡ˆAï¼ˆã‚·ãƒ³ãƒ—ãƒ«ç‰ˆï¼‰

```typescript
// amplify/agent/resource.ts
if (!isSandbox) {
  // ECRãƒªãƒã‚¸ãƒˆãƒªã‚’è‡ªå‰ã§ä½œæˆ
  const repository = new ecr.Repository(stack, 'MarpAgentRepository', {
    repositoryName: `marp-agent-${nameSuffix}`,
    removalPolicy: cdk.RemovalPolicy.DESTROY,
    emptyOnDelete: true,
    imageScanOnPush: true,
  });

  // Lifecycle Policy ã‚’è¨­å®šï¼ˆå‹å®‰å…¨ï¼‰
  repository.addLifecycleRule({
    description: 'Keep last 5 images',
    maxImageCount: 5,
    rulePriority: 1,
  });

  // ContainerImageBuild ã§ repository ã‚’æŒ‡å®š
  containerImageBuild = new ContainerImageBuild(stack, 'MarpAgentImageBuild', {
    directory: path.join(__dirname, 'runtime'),
    platform: Platform.LINUX_ARM64,
    repository,  // â† è‡ªå‰ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’æŒ‡å®š
  });
}
```

**å·¥æ•°**: 1.5æ™‚é–“ï¼ˆå®Ÿè£…30åˆ† + ãƒ†ã‚¹ãƒˆ1æ™‚é–“ï¼‰

---

### #37 Sandboxã®hotswapå•é¡Œã‚’ã¾ã¨ã‚ã‚‹

**æ¦‚è¦**: Sandboxã®hotswapå•é¡Œã«ã¤ã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã¾ã¨ã‚ã‚‹ã€‚

**ä¿®æ­£æ–¹æ³•**:
- `~/.claude/rules/amplify-cdk.md` ã«hotswapå•é¡Œã‚’ã¾ã¨ã‚ã‚‹
- CDK toolkit-libã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚„workaroundã‚’è¨˜è¼‰

**å·¥æ•°**: 1-2æ™‚é–“

---

### #44 output_slideãƒ„ãƒ¼ãƒ«æœªä½¿ç”¨æ™‚ã®UIå¯¾å¿œ

**æ¦‚è¦**: Kimi K2 ThinkingãŒoutput_slideãƒ„ãƒ¼ãƒ«ã‚’å‘¼ã°ãšã«ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚’ç›´æ¥ãƒ†ã‚­ã‚¹ãƒˆå‡ºåŠ›ã—ãŸå ´åˆã€ã€Œã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä½œæˆä¸­...ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒè¡¨ç¤ºã•ã‚Œãªã„å•é¡Œã€‚

**ç™ºç”Ÿæ—¥æ™‚**: 2026-02-02 JST 10:30é ƒï¼ˆsandboxç’°å¢ƒï¼‰

**ãƒ­ã‚°èª¿æŸ»çµæœ**:
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ID: `f98f0662-f01d-4041-96a4-bde4c2648906`
- web_searchãƒ„ãƒ¼ãƒ«: 4å›å‘¼ã³å‡ºã— âœ…
- output_slideãƒ„ãƒ¼ãƒ«: **0å›**ï¼ˆå‘¼ã°ã‚Œãªã‹ã£ãŸï¼‰âŒ
- finish_reason: `end_turn`
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹ã«ã‚ˆã‚Šã‚¹ãƒ©ã‚¤ãƒ‰è‡ªä½“ã¯è¡¨ç¤ºã•ã‚ŒãŸ

**æ ¹æœ¬åŸå› **:
ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã€Œoutput_slideãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã€ã¨æŒ‡ç¤ºã—ã¦ã„ã‚‹ãŒã€è¤‡æ•°å›ã®web_searchå¾Œã«KimiãŒæŒ‡ç¤ºã«å¾“ã‚ãšç›´æ¥ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚’å‡ºåŠ›ã—ãŸã€‚

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¸ã®å½±éŸ¿**:
- `onToolUse('output_slide')` ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«ã—ãªã„
- ã€Œã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä½œæˆä¸­...ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒè¡¨ç¤ºã•ã‚Œãªã„
- è±†çŸ¥è­˜ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒé–‹å§‹ã•ã‚Œãªã„

**å¯¾å‡¦æ¡ˆ**:

| æ¡ˆ | å†…å®¹ | é›£æ˜“åº¦ | åŠ¹æœ |
|----|------|--------|------|
| **A** | ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå¼·åŒ–ï¼ˆã‚ˆã‚Šå¼·ã„æŒ‡ç¤ºï¼‰ | ä½ | â–³ ç¢ºå®Ÿã§ã¯ãªã„ |
| **B** | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³æ¤œå‡ºæ™‚ã‚‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º | ä¸­ | â— ç¢ºå®Ÿ |
| **C** | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ¤œå‡ºâ†’output_slideç›¸å½“ã®å‡¦ç†è¿½åŠ  | ä¸­ | â— ç¢ºå®Ÿ |

**æ¨å¥¨**: æ¡ˆA + æ¡ˆB ã®çµ„ã¿åˆã‚ã›

**æ¡ˆBã®å®Ÿè£…æ–¹é‡**:
`useAgentCore.ts` ã® `onText` ãƒãƒ³ãƒ‰ãƒ©å†…ã§ `---\nmarp: true` ã‚’æ¤œå‡ºã—ãŸå ´åˆã€`onToolUse('output_slide')` ç›¸å½“ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ç™ºç«ã•ã›ã‚‹ã€‚

**é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«**:
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: `src/components/Chat.tsx:321` (onToolUseå‡¦ç†)
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: `src/hooks/useAgentCore.ts:138` (ã‚¤ãƒ™ãƒ³ãƒˆæŒ¯ã‚Šåˆ†ã‘)
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: `amplify/agent/runtime/agent.py:208-210` (ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŒ‡ç¤º)
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: `amplify/agent/runtime/agent.py:580-585` (ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†)

**å·¥æ•°**: 1-2æ™‚é–“

---

### #49 KimiãŒWebæ¤œç´¢çµæœã‚’ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§è¿”ã•ãªã„ã‚ˆã†ã«ã—ãŸã„

**æ¦‚è¦**: Kimi K2ãŒWebæ¤œç´¢å¾Œã«ãã®çµæœã‚’ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã—ã¦ãã®ã¾ã¾å‡ºåŠ›ã—ã¦ã—ã¾ã†å•é¡Œã€‚

**ä¿®æ­£æ–¹æ³•**: ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼ˆ`amplify/agent/runtime/agent.py`ï¼‰

```markdown
## Webæ¤œç´¢çµæœã®å–ã‚Šæ‰±ã„
web_searchãƒ„ãƒ¼ãƒ«ã§å–å¾—ã—ãŸæ¤œç´¢çµæœã¯ã€ã‚ãªãŸãŒã‚¹ãƒ©ã‚¤ãƒ‰ç”Ÿæˆã®å‚è€ƒæƒ…å ±ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ãŸã‚ã§ã™ã€‚ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã‚’å³å¯†ã«å®ˆã£ã¦ãã ã•ã„ï¼š

1. **æ¤œç´¢çµæœã‚’ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã—ã¦å‡ºåŠ›ã—ãªã„**
   - æ¤œç´¢çµæœã®è¦ç´„ã‚„å¼•ç”¨ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å«ã‚ã¦ã¯ã„ã‘ã¾ã›ã‚“
   - ä¾‹ï¼šã€ŒWebæ¤œç´¢ã®çµæœã€ã€‡ã€‡ã¨ã„ã†æƒ…å ±ãŒå¾—ã‚‰ã‚Œã¾ã—ãŸã€ã¨ã„ã†è¿”ç­”ã¯ç¦æ­¢

2. **æ¤œç´¢çµæœã¯å†…éƒ¨å‡¦ç†ã®ã¿**
   - æ¤œç´¢çµæœã‚’ä½¿ç”¨ã—ã¦ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹éš›ã®å‚è€ƒè³‡æ–™ã¨ã—ã¦ä½¿ã†
   - ã‚¹ãƒ©ã‚¤ãƒ‰ä½œæˆã«ç›´æ¥å½¹ç«‹ã¤æƒ…å ±ã®ã¿ã‚’ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã«åæ˜ ã•ã›ã‚‹

3. **æ¤œç´¢å®Œäº†å¾Œã®å‹•ä½œ**
   - web_searchãƒ„ãƒ¼ãƒ«å®Ÿè¡Œç›´å¾Œã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ãƒ†ã‚­ã‚¹ãƒˆè¿”ç­”ã‚’ã›ãšã€ã™ãã«ã‚¹ãƒ©ã‚¤ãƒ‰ç”Ÿæˆã‚’é–‹å§‹ã™ã‚‹
   - output_slideãƒ„ãƒ¼ãƒ«å®Ÿè¡Œã¾ã§ã®é–“ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’å‡ºåŠ›ã—ãªã„

4. **å‚è€ƒæ–‡çŒ®ã®è¡¨è¨˜**
   - ã‚¹ãƒ©ã‚¤ãƒ‰å†…ã«æƒ…å ±æºã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€å‚è€ƒæ–‡çŒ®ã‚¹ãƒ©ã‚¤ãƒ‰ã«URLå½¢å¼ã§è¨˜è¼‰
   - æ¤œç´¢çµæœãã®ã‚‚ã®ã‚’ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦è¡¨ç¤ºã—ãªã„
```

**å·¥æ•°**: 2æ™‚é–“ï¼ˆå®Ÿè£…15åˆ† + ãƒ†ã‚¹ãƒˆ1.5æ™‚é–“ + ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ15åˆ†ï¼‰

---

### #33 Tavilyã®Extractã«å¯¾å¿œ

**æ¦‚è¦**: Tavily APIã®Extractæ©Ÿèƒ½ï¼ˆURLã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æŠ½å‡ºï¼‰ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚

#### å®Ÿç¾æ¡ˆã®æ¯”è¼ƒ

| æ¡ˆ | å·¥æ•° | åŠ¹æœ | æ¨å¥¨åº¦ |
|----|------|------|--------|
| æ¡ˆA: web_searchã«çµ±åˆ | 1.5h | ã‚·ãƒ³ãƒ—ãƒ« | â–³ æ›–æ˜§ |
| **æ¡ˆB: åˆ¥ãƒ„ãƒ¼ãƒ«è¿½åŠ ** | 2h | æ˜ç¢º | â­æ¨å¥¨ |
| æ¡ˆC: URLè‡ªå‹•åˆ¤å®š | 1.5h | - | âŒ è„†å¼± |

#### æ¨å¥¨: æ¡ˆBï¼ˆåˆ¥ãƒ„ãƒ¼ãƒ« tavily_extract ã¨ã—ã¦è¿½åŠ ï¼‰

```python
@tool
def tavily_extract(urls: list[str], query: str = "") -> str:
    """æŒ‡å®šã—ãŸURLã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æŠ½å‡ºã—ã¾ã™ã€‚

    Args:
        urls: æŠ½å‡ºå¯¾è±¡ã®URLï¼ˆæœ€å¤§20å€‹ï¼‰
        query: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å„ªå…ˆåº¦ä»˜ã‘ç”¨ã‚¯ã‚¨ãƒªï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

    Returns:
        æŠ½å‡ºã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒ†ã‚­ã‚¹ãƒˆ
    """
    response = client.extract(
        urls=urls[:20],
        query=query,
        chunks_per_source=3,
        extract_depth="advanced",
        include_images=True,
    )
    # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° + ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
```

**è¿½åŠ ä½œæ¥­**:
- `VALID_TOOL_NAMES` ã« `"tavily_extract"` ã‚’è¿½åŠ 
- `get_or_create_agent()` ã® `tools` ãƒªã‚¹ãƒˆã«è¿½åŠ 

**å·¥æ•°**: 2æ™‚é–“

---

### #45 Langfuseã§ãƒˆãƒ¬ãƒ¼ã‚¹ã—ãŸã„

**æ¦‚è¦**: Langfuseã‚’ä½¿ã£ã¦AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å®Ÿè¡Œã‚’ãƒˆãƒ¬ãƒ¼ã‚¹ã—ãŸã„ã€‚

**ç¾çŠ¶**: Strands Agentsã®OTELãƒˆãƒ¬ãƒ¼ã‚¹ã¯æœ‰åŠ¹ã ãŒã€Langfuseã¨ã®é€£æºã¯ãªã„ã€‚

**æ¨å¥¨æ–¹æ³•**: OpenTelemetryçµŒç”±ï¼ˆæœ€å°é™ã®å¤‰æ›´ï¼‰

**å®Ÿè£…æ‰‹é †**:

1. **ç’°å¢ƒå¤‰æ•°ã‚’è¿½åŠ **ï¼ˆAmplifyï¼‰
   ```
   LANGFUSE_PUBLIC_KEY=pk-lf-xxx
   LANGFUSE_SECRET_KEY=sk-lf-xxx
   LANGFUSE_BASE_URL=https://cloud.langfuse.com
   ```

2. **resource.tsä¿®æ­£**ï¼ˆ84-89è¡Œç›®ï¼‰
   ```typescript
   environmentVariables: {
     AGENT_OBSERVABILITY_ENABLED: 'true',
     OTEL_EXPORTER_OTLP_PROTOCOL: 'http/protobuf',
     OTEL_EXPORTER_OTLP_ENDPOINT: process.env.LANGFUSE_BASE_URL
       ? `${process.env.LANGFUSE_BASE_URL}/api/public/otel`
       : '',
     OTEL_EXPORTER_OTLP_HEADERS: process.env.LANGFUSE_PUBLIC_KEY && process.env.LANGFUSE_SECRET_KEY
       ? `Authorization=Basic ${Buffer.from(`${process.env.LANGFUSE_PUBLIC_KEY}:${process.env.LANGFUSE_SECRET_KEY}`).toString('base64')}`
       : '',
   }
   ```

3. **agent.pyä¿®æ­£**
   ```python
   from strands.telemetry import StrandsTelemetry

   _telemetry_enabled = os.environ.get('AGENT_OBSERVABILITY_ENABLED', '').lower() == 'true'
   if _telemetry_enabled:
       strands_telemetry = StrandsTelemetry().setup_otlp_exporter()
   ```

**æ³¨æ„**: AWS X-Rayã¨Langfuseã¯ä½µç”¨ä¸å¯

**å‚ç…§ãƒªãƒ³ã‚¯**:
- [Langfuse Ã— Strands Agents](https://langfuse.com/integrations/frameworks/strands-agents)
- [Amazon Bedrock AgentCore Observability with Langfuse](https://aws.amazon.com/blogs/machine-learning/amazon-bedrock-agentcore-observability-with-langfuse/)

**å·¥æ•°**: 2.5æ™‚é–“

---

### #39 ç”»é¢ã®ã©ã“ã‹ã«æœ€å¾Œã®ãƒªãƒªãƒ¼ã‚¹ã®æƒ…å ±ã‚’è¡¨ç¤ºã—ãŸã„

**æ¦‚è¦**: ç”»é¢ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’è¡¨ç¤ºã—ãŸã„ã€‚

#### å®Ÿç¾æ¡ˆã®æ¯”è¼ƒ

| æ¡ˆ | å·¥æ•° | å¸¸ã«æœ€æ–° | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè² è· | æ¨å¥¨åº¦ |
|----|------|---------|----------------|--------|
| **æ¡ˆA: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰API** | 3h | âœ… | 1ãƒªã‚¯ã‚¨ã‚¹ãƒˆ | â­æ¨å¥¨ |
| æ¡ˆB: ãƒ“ãƒ«ãƒ‰æ™‚package.jsonåŸ‹ã‚è¾¼ã¿ | 1h | âŒ | 0 | â–³ æ‰‹å‹•åŒæœŸ |
| æ¡ˆC: ãƒ“ãƒ«ãƒ‰æ™‚APIå–å¾— | 2.5h | âœ… | 0 | â–³ CIä¾å­˜ |

#### æ¨å¥¨: æ¡ˆAï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§GitHub APIå–å¾—ï¼‰

```typescript
// hooks/useLatestRelease.ts
export function useLatestRelease(owner: string, repo: string) {
  const [release, setRelease] = useState<Release | null>(null);

  useEffect(() => {
    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯ï¼ˆ1æ™‚é–“æœ‰åŠ¹ï¼‰
    const cached = localStorage.getItem(`github_release_${owner}_${repo}`);
    if (cached && Date.now() - JSON.parse(cached).timestamp < 3600000) {
      setRelease(JSON.parse(cached).data);
      return;
    }

    fetch(`https://api.github.com/repos/${owner}/${repo}/releases/latest`)
      .then(res => res.json())
      .then(data => {
        localStorage.setItem(`github_release_${owner}_${repo}`, JSON.stringify({
          data, timestamp: Date.now()
        }));
        setRelease(data);
      });
  }, [owner, repo]);

  return release;
}

// ä½¿ç”¨ä¾‹
function VersionBadge() {
  const release = useLatestRelease('minorun365', 'marp-agent');
  if (!release) return null;
  return <span>Latest: {release.tag_name}</span>;
}
```

**ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: èªè¨¼ãªã—60å›/æ™‚é–“ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§å¯¾å¿œå¯èƒ½ï¼‰

**å·¥æ•°**: 3æ™‚é–“

---

### #6 Tavilyãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆæ¯æ¸‡é€šçŸ¥

**ç¾çŠ¶**: å…¨ã‚­ãƒ¼æ¯æ¸‡æ™‚ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥ã‚ã‚Šã€‚ç®¡ç†è€…ã¸ã®é€šçŸ¥ãŒãªã„ã€‚

**å®Ÿè£…æ–¹æ³•ï¼ˆSNSé€šçŸ¥æ–¹å¼ï¼‰**:

1. CDKã§SNSãƒˆãƒ”ãƒƒã‚¯ä½œæˆ
2. IAMæ¨©é™è¿½åŠ ï¼ˆsns:Publishï¼‰
3. agent.pyã§å…¨ã‚­ãƒ¼æ¯æ¸‡æ™‚ã«SNSé€šçŸ¥
4. SNSã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³è¨­å®šï¼ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ç™»éŒ²ï¼‰

**å·¥æ•°**: 3-4æ™‚é–“

---

### #7 ã‚¨ãƒ©ãƒ¼ç›£è¦–ãƒ»é€šçŸ¥

**ç¾çŠ¶**: OTEL Observabilityæœ‰åŠ¹ã€‚CloudWatch Alarm/SNSæœªè¨­å®šã€‚

**å®Ÿè£…æ–¹æ³•**:
1. SNSãƒˆãƒ”ãƒƒã‚¯ä½œæˆï¼ˆ#6ã¨å…±ç”¨å¯èƒ½ï¼‰
2. CloudWatch Alarmè¿½åŠ ï¼ˆSystem Errors / User Errors / Throttlingï¼‰
3. ãƒ¡ãƒ¼ãƒ«é€šçŸ¥è¨­å®š

**å·¥æ•°**: 3-4æ™‚é–“

---

### #27 æ—¢å­˜ãƒ†ãƒ¼ãƒã«ãƒ‡ã‚¶ã‚¤ãƒ³ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ãƒ»ä»•åˆ‡ã‚Šãªã©ï¼‰

**æ¦‚è¦**: ã‚¿ã‚¤ãƒˆãƒ«ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ»ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šãƒ»å¼•ç”¨ãªã©ã€ãƒ‡ã‚¶ã‚¤ãƒ³ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

**è¿½åŠ ã™ã‚‹ã‚¯ãƒ©ã‚¹**:
- `title` - ã‚¿ã‚¤ãƒˆãƒ«ã‚¹ãƒ©ã‚¤ãƒ‰ï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ + ä¸­å¤®é…ç½®ï¼‰
- `crosshead` - ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šï¼ˆã‚°ãƒ¬ãƒ¼èƒŒæ™¯ + å·¦ãƒœãƒ¼ãƒ€ãƒ¼ï¼‰
- `quote` - å¼•ç”¨ï¼ˆå·¦ãƒœãƒ¼ãƒ€ãƒ¼ + ã‚¤ã‚¿ãƒªãƒƒã‚¯ï¼‰
- `image` - ç”»åƒä¸­å¿ƒ
- `invert` - ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰
- `highlight` - ãƒã‚¤ãƒ©ã‚¤ãƒˆèƒŒæ™¯

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**:
| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ |
|---------|---------|
| `src/themes/*.css` | ã‚¯ãƒ©ã‚¹å®šç¾©ã‚’è¿½åŠ  |
| `amplify/agent/runtime/*.css` | åŒã˜å†…å®¹ã‚’è¿½åŠ  |
| `amplify/agent/runtime/agent.py` | SYSTEM_PROMPT ã«ã‚¯ãƒ©ã‚¹ä½¿ç”¨ã‚¬ã‚¤ãƒ‰è¿½åŠ  |

**å·¥æ•°**: 1-2æ—¥

---

### #48 GPTã‚’å®Ÿè£…ã—ã¦ã¿ã‚‹

**æ¦‚è¦**: OpenAI GPTãƒ¢ãƒ‡ãƒ«ã‚’é¸æŠè‚¢ã¨ã—ã¦è¿½åŠ ã—ãŸã„ã€‚

**Strands Agentsã®OpenAIã‚µãƒãƒ¼ãƒˆ**: âœ… å®Œå…¨ã‚µãƒãƒ¼ãƒˆ

**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:
```bash
pip install 'strands-agents[openai]'
```

**å®Ÿè£…ä¾‹**:
```python
from strands.models.openai import OpenAIModel

openai_model = OpenAIModel(
    client_args={"api_key": openai_api_key},
    model_id="gpt-4o",
    params={
        "max_tokens": 4000,
        "temperature": 0.7,
    }
)

agent = Agent(model=openai_model, tools=[...])
```

**è¿½åŠ ä½œæ¥­**:
- Secrets Managerã«OpenAI APIã‚­ãƒ¼ç™»éŒ²
- Lambdaå®Ÿè¡Œãƒ­ãƒ¼ãƒ«ã«Secrets Managerèª­ã¿å–ã‚Šæ¨©é™è¿½åŠ 
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ãƒ¢ãƒ‡ãƒ«é¸æŠã‚ªãƒ—ã‚·ãƒ§ãƒ³è¿½åŠ 

**å‚ç…§**: [Strands Agents - OpenAI Provider](https://strandsagents.com/latest/documentation/docs/user-guide/concepts/model-providers/openai/)

**å·¥æ•°**: 2æ—¥ï¼ˆæœ€å°æ§‹æˆ1æ—¥ + UIå¯¾å¿œ1æ—¥ï¼‰

---

### #52 Nova Premierã¨Web Groundingã‚’å®Ÿè£…ã™ã‚‹

**æ¦‚è¦**: Amazon Nova Premierï¼ˆBedrockã®æœ€æ–°ãƒ¢ãƒ‡ãƒ«ï¼‰ã¨Web Groundingï¼ˆçµ„ã¿è¾¼ã¿Webæ¤œç´¢æ©Ÿèƒ½ï¼‰ã‚’é¸æŠè‚¢ã¨ã—ã¦è¿½åŠ ã—ãŸã„ã€‚

**ãƒ¢ãƒ‡ãƒ«ID**: `us.amazon.nova-premier-v1:0`

**åˆ©ç”¨å¯èƒ½ãƒªãƒ¼ã‚¸ãƒ§ãƒ³**: us-east-1, us-east-2, us-west-2

**Nova Premierã®ç‰¹å¾´**:
| é …ç›® | è©³ç´° |
|------|------|
| ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆé•· | 100ä¸‡ãƒˆãƒ¼ã‚¯ãƒ³ |
| å…¥åŠ›ã‚¿ã‚¤ãƒ— | ãƒ†ã‚­ã‚¹ãƒˆã€ç”»åƒã€å‹•ç”» |
| å¾—æ„åˆ†é‡ | è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã€è¶…é•·æ–‡å‡¦ç† |

**Web Groundingæ©Ÿèƒ½**:
- APIãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã« `nova_grounding` ã‚·ã‚¹ãƒ†ãƒ ãƒ„ãƒ¼ãƒ«ã‚’æœ‰åŠ¹åŒ–
- ãƒ¢ãƒ‡ãƒ«ãŒæ¤œç´¢ã®å¿…è¦æ€§ã‚’è‡ªå‹•åˆ¤æ–­
- å¼•ç”¨ä»˜ãã§å¿œç­”ã‚’ç”Ÿæˆï¼ˆå¼•ç”¨å…ƒURLã®è¡¨ç¤ºãŒå¿…é ˆï¼‰

**å®Ÿè£…æ–¹æ³•ï¼ˆBedrock Converse APIç›´æ¥å‘¼ã³å‡ºã—ï¼‰**:
```python
response = bedrock.converse(
    modelId="us.amazon.nova-premier-v1:0",
    messages=[{"role": "user", "content": [{"text": prompt}]}],
    toolConfig={
        "tools": [{"systemTool": {"name": "nova_grounding"}}]
    }
)
```

**IAMæ¨©é™è¿½åŠ ãŒå¿…è¦**:
```json
{
  "Effect": "Allow",
  "Action": ["bedrock:InvokeTool"],
  "Resource": ["arn:aws:bedrock::{ACCOUNT_ID}:system-tool/amazon.nova_grounding"]
}
```

**ç¾å®Ÿçš„ãªåˆ¤æ–­**:
- ç¾åœ¨ã®Tavilyæ¤œç´¢ï¼ˆ`web_search`ãƒ„ãƒ¼ãƒ«ï¼‰ã§ååˆ†ãªæ¤œç´¢æ©Ÿèƒ½ã‚’æä¾›æ¸ˆã¿
- Nova Premierã®è¶…é•·æ–‡å‡¦ç†ã¯ã€ã‚¹ãƒ©ã‚¤ãƒ‰ç”Ÿæˆã‚¢ãƒ—ãƒªã§ã¯ä¸è¦ï¼ˆé€šå¸¸æ•°ç™¾ã€œæ•°åƒãƒˆãƒ¼ã‚¯ãƒ³ï¼‰
- Claudeã®å¯¾è©±å“è³ªãƒ»ã‚³ãƒ¼ãƒ‰ç”Ÿæˆèƒ½åŠ›ã®æ–¹ãŒç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«é©åˆ
- **çµè«–**: ç¾æ™‚ç‚¹ã§ã¯ç§»è¡Œãƒ¡ãƒªãƒƒãƒˆãŒå°‘ãªã„ã€‚æ¤œè¨¼ç›®çš„ã§ã®å°å…¥ã‚’æ¤œè¨

**å‚ç…§ãƒªãƒ³ã‚¯**:
- [Amazon Nova Premier](https://aws.amazon.com/blogs/aws/amazon-nova-premier-our-most-capable-model-for-complex-tasks-and-teacher-for-model-distillation/)
- [Web Grounding](https://docs.aws.amazon.com/nova/latest/nova2-userguide/web-grounding.html)

**å·¥æ•°**: 2-3æ—¥ï¼ˆStrandsä¾å­˜ã‚’å‰Šé™¤ã—ã€Boto3ç›´æ¥å‘¼ã³å‡ºã—ã«å¤‰æ›´ã™ã‚‹å ´åˆï¼‰

---

### #16 ã‚¹ãƒ©ã‚¤ãƒ‰ç·¨é›†ï¼ˆãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿ï¼‰

**æ¨å¥¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: @uiw/react-codemirrorï¼ˆYAML frontmatterå¯¾å¿œã€ãƒ¢ãƒã‚¤ãƒ«å„ªç§€ï¼‰

```bash
npm install @uiw/react-codemirror @codemirror/lang-markdown @codemirror/lang-yaml
```

**å·¥æ•°**: 3-5æ—¥

---

### #51 ç·¨é›†å¯èƒ½PPTXã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã›ãŸã„

**æ¦‚è¦**: ç¾åœ¨ã®PPTXã¯ç”»åƒãƒ™ãƒ¼ã‚¹ã ãŒã€ç·¨é›†å¯èƒ½ãªPPTXã¨ã—ã¦å‡ºåŠ›ã—ãŸã„ã€‚

**ç¾çŠ¶ã®å•é¡Œ**: Marp CLIãŒç”Ÿæˆã™ã‚‹PPTXã¯ã€Œãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸç”»åƒã€ã§ã‚ã‚Šã€ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†ã¯ä¸å¯ã€‚

**æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: python-pptx + ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆMarkoï¼‰ã§æ–°è¦å®Ÿè£…

**ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**:
```
ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å…¥åŠ›
  â†“
[Markoãƒ‘ãƒ¼ã‚µãƒ¼] â†’ ASTï¼ˆæŠ½è±¡æ§‹æ–‡æœ¨ï¼‰
  â†“
[Marpãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–æŠ½å‡º] â†’ ã‚¹ãƒ©ã‚¤ãƒ‰è¨­å®š
  â†“
[ã‚¹ãƒ©ã‚¤ãƒ‰æ§‹é€ åŒ–] â†’ ã‚¹ãƒ©ã‚¤ãƒ‰é…åˆ—
  â†“
[python-pptxãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼] â†’ PPTXå‡ºåŠ›
```

**æ®µéšçš„å®Ÿè£…è¨ˆç”»**:

| ãƒ•ã‚§ãƒ¼ã‚º | å†…å®¹ | å·¥æ•° |
|---------|------|------|
| **ãƒ•ã‚§ãƒ¼ã‚º1ï¼ˆMVPï¼‰** | ã‚¹ãƒ©ã‚¤ãƒ‰åˆ†å‰²ã€è¦‹å‡ºã—ã€ç®‡æ¡æ›¸ãã€ãƒ†ã‚­ã‚¹ãƒˆæ›¸å¼ | 2-3æ—¥ |
| ãƒ•ã‚§ãƒ¼ã‚º2ï¼ˆã‚³ã‚¢æ©Ÿèƒ½ï¼‰ | Marpãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã€ç”»åƒã€è¡¨ã€ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ | 3-4æ—¥ |
| ãƒ•ã‚§ãƒ¼ã‚º3ï¼ˆé«˜åº¦æ©Ÿèƒ½ï¼‰ | ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒˆã€èƒŒæ™¯ã€ã‚¯ãƒ©ã‚¹é©ç”¨ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒ | 2-3æ—¥ |

**å‚ç…§ãƒªãƒ³ã‚¯**:
- [python-pptx Documentation](https://python-pptx.readthedocs.io/)
- [md2pptx GitHub](https://github.com/MartinPacker/md2pptx)ï¼ˆå‚è€ƒãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰
- [Marko PyPI](https://pypi.org/project/marko/)

**å·¥æ•°**: 3-4æ—¥ï¼ˆMVPï¼‰ã€œ 10-13æ—¥ï¼ˆå®Œå…¨ç‰ˆï¼‰

---

### #21 ä¼æ¥­ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã„

**æ¦‚è¦**: ä¼æ¥­ç‹¬è‡ªã®Marpãƒ†ãƒ¼ãƒï¼ˆCSSï¼‰ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

**æ¨å¥¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**:
```
ä¼æ¥­ â†’ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰UI â†’ S3ãƒã‚±ãƒƒãƒˆä¿å­˜ â†’ DynamoDBãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç™»éŒ²
                                    â†“
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: S3 URLã‹ã‚‰CSSå–å¾— â†’ Marp Coreç™»éŒ²
ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: S3 URLã‹ã‚‰CSSå–å¾— â†’ Marp CLI --themeæŒ‡å®š
```

**å¿…è¦ãªã‚¤ãƒ³ãƒ•ãƒ©**: S3ãƒã‚±ãƒƒãƒˆ + DynamoDBãƒ†ãƒ¼ãƒ–ãƒ«

**å·¥æ•°**: 5-7æ—¥

---

### #22 å‚è€ƒè³‡æ–™ãªã©ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã„

**æ¦‚è¦**: PDF/Word/ãƒ†ã‚­ã‚¹ãƒˆ/ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã€ãã®å†…å®¹ã«åŸºã¥ã„ã¦ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ç”Ÿæˆã€‚

**å¯¾å¿œãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼**:
| å½¢å¼ | å‡¦ç†æ–¹æ³• | ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
|------|---------|---------|
| PDF | ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º | `pdfplumber` |
| Word (.docx) | ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º | `python-docx` |
| ãƒ†ã‚­ã‚¹ãƒˆ | ãã®ã¾ã¾ | - |
| ç”»åƒ | OCR | Bedrock Multimodal |

**å·¥æ•°**: 5-7æ—¥

---

### #23 ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ãƒªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ âœ…

**å®Œäº†æ—¥**: 2026-02-06
**ãƒªãƒªãƒ¼ã‚¹**: [v1.4.0](https://github.com/minorun365/marp-agent/releases/tag/v1.4.0)

#### å®Ÿæ–½å†…å®¹

| å¯¾è±¡ | Before | After | å‰Šæ¸›ç‡ |
|------|--------|-------|--------|
| agent.py | 883è¡Œ | 256è¡Œ | 70% |
| Chat.tsx | 674è¡Œ | 326è¡Œ | 52% |

#### åˆ†å‰²å¾Œã®æ§‹æˆ

**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**:
```
amplify/agent/runtime/
â”œâ”€â”€ agent.py           # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ config.py          # ãƒ¢ãƒ‡ãƒ«è¨­å®šãƒ»ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”œâ”€â”€ tools/             # web_search, output_slide, generate_tweet
â”œâ”€â”€ handlers/          # kimi_adapter
â”œâ”€â”€ exports/           # slide_exporter
â”œâ”€â”€ sharing/           # s3_uploader
â””â”€â”€ session/           # manager
```

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**:
```
src/components/Chat/
â”œâ”€â”€ index.tsx          # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ ChatInput.tsx      # å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
â”œâ”€â”€ MessageList.tsx    # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§
â”œâ”€â”€ MessageBubble.tsx  # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å¹ãå‡ºã—
â”œâ”€â”€ StatusMessage.tsx  # ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
â”œâ”€â”€ hooks/             # useTipRotation, useStreamingText
â”œâ”€â”€ constants.ts       # TIPS, MESSAGESå®šæ•°
â””â”€â”€ types.ts           # å‹å®šç¾©
```

**è©³ç´°**: [docs/REARCHITECTURE_PROGRESS.md](./REARCHITECTURE_PROGRESS.md)
